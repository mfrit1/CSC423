<!DOCTYPE html>
<html>
  <head>
    <title>Nanno's Foods</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
    <link rel="stylesheet" type="text/css" href="../style.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
	
	<script> 
	
		var alertText = "The following are entered incorrectly:";
		var alertTextLength = alertText.length;
	
        // wait for the DOM to be loaded 
        $(document).ready(function() { 
            // bind 'myForm' and provide a simple callback function 
            // attach handler to form's submit event 
			$('#myForm').submit(function() { 
			
			if(checkFunctions()){
			//	console.log("I MADE IT");
				$(this).ajaxSubmit(); // submit the form 
			}
			
			return false; // return false to prevent normal browser submit and page navigation 
			})
        }); 
		
		$(document).ajaxSuccess(function (evt, jqXHR, settings) {
			alert("Your Store Has Been Added!");
			var thisURL = window.location.href;
			thisURL = thisURL.replace('/', '//')
			var newURL = thisURL.substr(0, thisURL.lastIndexOf("\\")) + "transaction_complete.html";
			thisURL = thisURL.replace('//', '/');
			document.location.href = newURL;
		});

		$(document).ajaxError(function (evt, jqXHR, settings, err) {
		alert("The Vendor Code must be unique. That Vendor Code has already been taken.");
		});
		
		function checkFunctions() {
		
			alertText = "The following are entered incorrectly:";
			
			checkCode();
			checkName();
			checkAddress();
			checkCity();
			checkPersonName();
			checkZip();
			checkPhone();
			
			if(alertText.length == alertTextLength)
			{
				return true;
				
			}else{
			
				alert(alertText);
				
				return false;
			
			}
		}
		
		
		function checkCode() {
			var elem= document.getElementById("InputStoreCode");
			var elemPattern = /^\d+$/;
			var re = new RegExp(elemPattern);
			if(!re.test(elem.value))
			{
				alertText = alertText.concat("\nStore Code");
			}
		}
		
		function checkName() {
			var elem= document.getElementById("InputStoreName");
			var elemPattern = /^[A-Z][a-z]*(-[A-Z][a-z]*)?$/;
			var re = new RegExp(elemPattern);
			if(!re.test(elem.value))
			{
				alertText = alertText.concat("\nStore Name");
			}
		}
		
		function checkAddress() {
			var elem= document.getElementById("InputStoreAddress");
			var elemPattern = /^[A-Za-z0-9-\ ]+$/;
			var re = new RegExp(elemPattern);
			if(!re.test(elem.value))
			{
				alertText = alertText.concat("\nStore Address");
			}
		}
		
		function checkCity() {
			var elem= document.getElementById("InputStoreCity");
			var elemPattern = /^[A-Z][a-z]*([A-Za-z]*[- ][A-Za-z]+)*$/;
			var re = new RegExp(elemPattern);
			if(!re.test(elem.value))
			{
				alertText = alertText.concat("\nStore City");
			}
		}
		
		function checkZip() {
			var elem= document.getElementById("InputStoreZip");
			var elemPattern = /^\d{5}$/;
			var re = new RegExp(elemPattern);
			if(!re.test(elem.value))
			{
				alertText = alertText.concat("\nStore Zip");
			}
		}
		
		function checkPersonName() {
			var elem= document.getElementById("InputManagerName");
			var elemPattern = /^[A-Za-z-\ ]+$/;
			var re = new RegExp(elemPattern);
			if(!re.test(elem.value))
			{
				alertText = alertText.concat("\nManager Name");
			}
		}
		
		function checkPhone() {
			var elem= document.getElementById("InputManagerNumber");
			var elemPattern = /^([0-9]{3}-[0-9]{3}-[0-9]{4})$/;
			var re = new RegExp(elemPattern);
			if(!re.test(elem.value))
			{
				alertText = alertText.concat("\nManager Phone Number");
			}
		}

		
 </script> 

  </head>

  <body class="background">
  	
    <nav class="navbar navbar-inverse navbar-fixed-top navbar-center">
  			<div class="container-fluid">

  				<div class="navbar-header">
        	   <a class="navbar-brand" href="#">Nanno's Foods</a>
      		</div>

    			<ul class="nav navbar-nav">
       			<li class="active"><a href="../index.html">Home</a></li>
        		<li class="dropdown">
				<a class="dropdown-toggle" data-toggle="dropdown" href="#">
					Vendors <span class="caret"></span></a>
					<ul class="dropdown-menu" role="menu">
						<li><a href="../Vendor/Register_Vendor.html">Register a Vendor</a></li>
						<li><a href="../Vendor/Update_Vendor.html">Update a Vendor</a></li>
						<li><a href="../Vendor/Remove_Vendor.html">Remove a Vendor</a></li>                        
					</ul>
				</li>
        		<li class="dropdown">
				<a class="dropdown-toggle" data-toggle="dropdown" href="#">
					Stores <span class="caret"></span></a>
					<ul class="dropdown-menu" role="menu">
						<li><a href="../Store/Add_Store.html">Add a Store</a></li>
						<li><a href="../Store/Update_Store.html">Update a Store</a></li>
						<li><a href="../Store/Remove_Store.html">Remove a Store</a></li>                        
					</ul>
				</li>
				<li class="dropdown">
				<a class="dropdown-toggle" data-toggle="dropdown" href="#">
					Items <span class="caret"></span></a>
					<ul class="dropdown-menu" role="menu">
						<li><a href="../Item/Add_Item.html">Add an Item</a></li>
						<li><a href="../Item/Update_Item.html">Update an Item</a></li>
						<li><a href="../Item/Remove_Item.html">Remove an Item</a></li>            
					</ul>
				</li>
        			<li class="dropdown">
				<a class="dropdown-toggle" data-toggle="dropdown" href="#">
					Customers <span class="caret"></span></a>
					<ul class="dropdown-menu" role="menu">
						<li><a href="Customer/Add_Customer.html">Add a Customer</a></li>
						<li><a href="Customer/Update_Customer.html">Update a Customer</a></li>
						<li><a href="Customer/Remove_Customer.html">Remove a Customer</a></li>                        
					</ul>
				</li>
				</ul>
  			</div>
		</nav>
  	
    <div class="col-lg-12 fader">
  		<!-- <div class="col-lg-1"></div> -->
  		<div class="row">
  			<img src="../Pictures/Logo2.png" class="center">
			<h2>ADD A STORE</h2>
			<hr>
  		</div>
		<form class="form-horizontal" method="post" id = "myForm" action = "Add_Store_Submit.php">
		
		<!-- <div class="form-group row">
			<label for="InputStoreID">Store ID</label>
			<input type="text" class="form-control" name="InputStoreID" id="InputStoreID"  placeholder="Enter Store ID">
		</div> -->
		<div style="height: 25px"></div>
		<div class="form-group row">
			<label for="InputStoreCode">Store Code</label>
			<input type="text" class="form-control" name="InputStoreCode" id="InputStoreCode" placeholder="Enter Store Code">
		</div>
		<div style="height: 25px"></div>
		<div class="form-group row">
			<label for="InputStoreName">Store Name</label>
			<input type="text" class="form-control" name="InputStoreName" id="InputStoreName" placeholder="Enter Store Name">
		</div>
		<div style="height: 25px"></div>
		<div class="form-group row">
			<label for="InputStoreAddress">Store Address</label>
			<input type="text" class="form-control" name="InputStoreAddress" id="InputStoreAddress" placeholder="Enter Store Address">
		</div>
		<div style="height: 25px"></div>
		<div class="form-group row">
			 	<table>
			 		<tr>
			 			<td width="550px">
			 				<label for="InputStoreCity">Store City</label>
							<input type="text" class="form-control" name="InputStoreCity" id="InputStoreCity" placeholder="Enter Store City" style="width: 350px">
						</td>
						<td width="400px">
							<label for="stateSelect">Select Store State</label>
							<select class="form-control" name="stateSelect" id="stateSelect" selected="New York" style="width: 200px">
								<option value="AL">Alabama</option>
								<option value="AK">Alaska</option>
								<option value="AZ">Arizona</option>
								<option value="AR">Arkansas</option>
								<option value="CA">California</option>
								<option value="CO">Colorado</option>
								<option value="CT">Connecticut</option>
								<option value="DE">Delaware</option>
								<option value="DC">District Of Columbia</option>
								<option value="FL">Florida</option>
								<option value="GA">Georgia</option>
								<option value="HI">Hawaii</option>
								<option value="ID">Idaho</option>
								<option value="IL">Illinois</option>
								<option value="IN">Indiana</option>
								<option value="IA">Iowa</option>
								<option value="KS">Kansas</option>
								<option value="KY">Kentucky</option>
								<option value="LA">Louisiana</option>
								<option value="ME">Maine</option>
								<option value="MD">Maryland</option>
								<option value="MA">Massachusetts</option>
								<option value="MI">Michigan</option>
								<option value="MN">Minnesota</option>
								<option value="MS">Mississippi</option>
								<option value="MO">Missouri</option>
								<option value="MT">Montana</option>
								<option value="NE">Nebraska</option>
								<option value="NV">Nevada</option>
								<option value="NH">New Hampshire</option>
								<option value="NJ">New Jersey</option>
								<option value="NM">New Mexico</option>
								<option value="NY">New York</option>
								<option value="NC">North Carolina</option>
								<option value="ND">North Dakota</option>
								<option value="OH">Ohio</option>
								<option value="OK">Oklahoma</option>
								<option value="OR">Oregon</option>
								<option value="PA">Pennsylvania</option>
								<option value="RI">Rhode Island</option>
								<option value="SC">South Carolina</option>
								<option value="SD">South Dakota</option>
								<option value="TN">Tennessee</option>
								<option value="TX">Texas</option>
								<option value="UT">Utah</option>
								<option value="VT">Vermont</option>
								<option value="VA">Virginia</option>
								<option value="WA">Washington</option>
								<option value="WV">West Virginia</option>
								<option value="WI">Wisconsin</option>
								<option value="WY">Wyoming</option>
							</select>
						</td>
						<td>
							<label for="InputStoreZip">Store Zip Code</label>
							<input type="text" class="form-control" name="InputStoreZip" id="InputStoreZip" placeholder="Enter Vendor Zip Code" style="width: 300px">
						</td>
					</tr>
				</table>
			  </div>
			  <div style="height: 25px"></div>
			  <div class="form-group">
			  	<table>
			  		<tr>
			  			<td width="60%">
			  				<label for="InputManagerName">Manager Name</label>
			  				<input type="text" class="form-control" name="InputManagerName" id="InputManagerName" placeholder="Enter Manager Name" style="width: 575px;">
			  			</td>
			  			<td width =20%></td>
			  			<td width="40%">
			  				<label for="InputManagerNumber">Manager Phone Number</label>
			  				<input type="text" class="form-control" name="InputManagerNumber" id="InputManagerNumber" placeholder="Enter Manager Phone Number" style="width: 300px;">
			  			</td>
			  		</tr>
			  	</table>
			  </div>
			  <div style="height: 25px"></div>
			 <button type="submit" class="btn btn-primary btn-lg btn-block spacing">Submit Store Information</button>
		</form>
		
		
  	</div>

  </body>

</html>
